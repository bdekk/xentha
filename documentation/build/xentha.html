<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
  <head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--[if lt IE 9]> <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script> <![endif]-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>

    <!-- <link rel="stylesheet" type="text/css" href="template.css" /> -->

    <!--<link href="/templates/pandoc-bootstrap-template/menu/css/dcaccordion.css" rel="stylesheet" type="text/css" />-->
    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <!-- <script type='text/javascript' src='/templates/pandoc-bootstrap-template/menu/js/jquery.cookie.js'></script> -->
    <!-- <script type='text/javascript' src='/templates/pandoc-bootstrap-template/menu/js/jquery.hoverIntent.minified.js'></script> -->
    <!-- <script type='text/javascript' src='/templates/pandoc-bootstrap-template/menu/js/jquery.dcjqaccordion.2.7.min.js'></script> -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <!-- <link href="/templates/pandoc-bootstrap-template/menu/css/skins/blue.css" rel="stylesheet" type="text/css" /> -->
    <!-- <link href="/templates/pandoc-bootstrap-template/menu/css/skins/graphite.css" rel="stylesheet" type="text/css" /> -->
    <!-- <link href="/templates/pandoc-bootstrap-template/menu/css/skins/grey.css" rel="stylesheet" type="text/css" /> -->
    <!-- <script src="/templates/pandoc-bootstrap-template/script.js"></script> -->
    <!-- <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
    <!-- <script src="/bower_components/sticky-kit/jquery.sticky-kit.js "></script> -->
    <meta name="generator" content="pandoc"/>
         <title></title>
    <style type="text/css">
      code {
        white-space: pre;
      }
    </style>
         <style type="text/css">
      div.sourceCode { overflow-x: auto; }
      table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
        margin: 0; padding: 0; vertical-align: baseline; border: none; }
      table.sourceCode { width: 100%; line-height: 100%; }
      td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
      td.sourceCode { padding-left: 5px; }
      code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
      code > span.dt { color: #902000; } /* DataType */
      code > span.dv { color: #40a070; } /* DecVal */
      code > span.bn { color: #40a070; } /* BaseN */
      code > span.fl { color: #40a070; } /* Float */
      code > span.ch { color: #4070a0; } /* Char */
      code > span.st { color: #4070a0; } /* String */
      code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
      code > span.ot { color: #007020; } /* Other */
      code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
      code > span.fu { color: #06287e; } /* Function */
      code > span.er { color: #ff0000; font-weight: bold; } /* Error */
      code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
      code > span.cn { color: #880000; } /* Constant */
      code > span.sc { color: #4070a0; } /* SpecialChar */
      code > span.vs { color: #4070a0; } /* VerbatimString */
      code > span.ss { color: #bb6688; } /* SpecialString */
      code > span.im { } /* Import */
      code > span.va { color: #19177c; } /* Variable */
      code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
      code > span.op { color: #666666; } /* Operator */
      code > span.bu { } /* BuiltIn */
      code > span.ex { } /* Extension */
      code > span.pp { color: #bc7a00; } /* Preprocessor */
      code > span.at { color: #7d9029; } /* Attribute */
      code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
      code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
      code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
      code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    </style>
      
    <style>
      /* CUSTOMIZATIONS */
      .doc-title {
        float: left;
        display: block;
        padding: 10px 20px;
        margin-left: -20px;
        font-size: 20px;
        font-weight: 200;
        color: #777777;
        text-shadow: 0 1px 0 #ffffff;
      }
      .doc-info .navbar-text {
        padding: 0 15px;
      }
      h3 {
        margin-top: 50px;
        border-top: 1px solid #ddd;
        padding-top: 50px;
      }
      .toc {
        margin-top: 10px;
      }
      .toc,
      .toc ul {
        padding: 0;
        padding-left: 20px;
      }
      .toc ul {
        margin-left: 0;
        list-style: none;
        margin-bottom: 20px !important;
      }
      .toc > ul > li > a {
        font-weight: bold;
        font-size: 1.2em;
        border-top: 1px solid #ddd;
        color: #222;
        padding-top: 15px !important;
      }
      .toc > ul > li > ul > li > a {
        font-weight: bold;
        font-size: 1em;
        color: #222;
        padding-top: 5px !important;
      }
      .toc > ul > li > ul > li > ul > li > a {
        font-size: 0.87em;
        line-height: 1.1em;
      }
      .toc ul > li > a {
        display: block;
      }
      .toc ul > li > a:hover,
      .toc ul > li > a:focus {
        text-decoration: none;
        background-color: #eeeeee;
      }
      .toc ul {
        margin-bottom: 0;
        padding-left: 5px;
        padding-right: 5px;
      }
      .toc ul > li > a,
      .toc ul > li > a {
        padding: 3px 15px;
      }
      .video-js {
        min-width: 100%;
        max-width: 100%;
      }
      .vjs-fullscreen {
        padding-top: 0;
      }
      .toc .label {
        float: right;
      }
    </style>
  </head>
  <body>

        <div class="container-fluid">
      <div class="row">
                <div class="col-md-8 col-lg-9">
           <h1 id="consumer-calls">Consumer Calls</h1>
<h2 id="registration-and-login">Registration and login</h2>
<h3 id="post-consumerregister"><strong>POST</strong> /consumer/register</h3>
<p>Tries to register a new consumer.</p>
<p>POST parameters:</p>
<ul>
<li><code>string</code> email</li>
<li><code>string</code> password</li>
<li><code>string</code> name</li>
<li><code>string</code> address</li>
<li><code>string</code> postal</li>
<li><code>string</code> city</li>
<li><code>string</code> phonenr</li>
<li>bool gender <em>A string containing &quot;male&quot; or &quot;female&quot;</em></li>
<li><code>string</code> dateOfBirth <em>In the format yyyy-mm-dd e.g. 1984-01-21</em></li>
<li><code>string</code> deviceToken <em>The Iphone device token used to send push notifications to the device. Note: can be NULL</em></li>
<li><code>string</code> size <em>optional</em></li>
<li><code>string</code> imageUrl <em>optional The url of the users profile picture. Note: can be NULL</em></li>
</ul>
<p>JSON response: {</p>
<ul>
<li><code>boolean</code> success
<ul>
<li><code>integer</code> id</li>
</ul></li>
</ul>
<p>}</p>
<h3 id="post-consumerlogin"><strong>POST</strong> /consumer/login</h3>
<p>Tries to login a user.</p>
<p>POST parameters:</p>
<ul>
<li><code>string</code> email</li>
<li><code>string</code> password</li>
</ul>
<p>JSON response: {</p>
<ul>
<li><code>boolean</code> success</li>
<li><code>string</code> token</li>
<li><code>integer</code> id</li>
<li><code>object</code> consumer {
<ul>
<li><code>string</code> password</li>
<li><code>string</code> email</li>
<li><code>string</code> dateOfBirth <em>In the format of <code>yyyy-mm-dd</code></em></li>
<li><code>string</code> name</li>
<li><code>string</code> address</li>
<li><code>string</code> postal</li>
<li><code>string</code> phonenr</li>
<li><code>string</code> city</li>
<li><code>string</code> gender <em>A <code>string</code> containing &quot;male&quot; or &quot;female&quot;</em></li>
<li><code>integer</code> id</li>
<li><code>string</code> deviceToken <em>The Iphone device token used to send pushnotifications to the device. Note: can be NULL</em></li>
<li><code>string</code> imageUrl <em>The URL of the users profile picture. Note: can be NULL</em></li>
<li><code>string</code> size</li>
<li><code>array</code> savedOffers [
<ul>
<li>&quot;<code>integer</code> id&quot;</li>
</ul></li>
<li>]</li>
<li><code>array</code> followedRetailers [
<ul>
<li>&quot;<code>integer</code> id&quot;</li>
</ul></li>
<li>]</li>
</ul></li>
</ul>
<p>}</p>
<h3 id="post-consumerprofileedit-new"><strong>POST</strong> /consumer/profile/edit <span class="label label-info">new</span></h3>
<p>Edit the card id of a card.</p>
<p>GET parameters:</p>
<ul>
<li><code>string</code> token consumer token</li>
</ul>
<p>POST parameters:</p>
<ul>
<li><code>string</code> address new address</li>
<li><code>string</code> city new city</li>
<li><code>string</code> postal new postal</li>
<li><code>string</code> phonenr new phonenr</li>
</ul>
<p>JSON response: {</p>
<ul>
<li><code>boolean</code> success</li>
<li><code>integer</code> id <em>The <code>integer</code>ernal id of the consumer that was just edited.</em></li>
</ul>
<p>}</p>
<h2 id="qlever-cards">Qlever-cards</h2>
<h3 id="post-consumercardsadd"><strong>POST</strong> /consumer/cards/add</h3>
<p>Adds a new card to the consumer.</p>
<p>The same card number cannot be reused for the combination of retailer and consumer.</p>
<p>GET parameters:</p>
<ul>
<li><code>string</code> token</li>
</ul>
<p>POST parameters:</p>
<ul>
<li><code>integer</code> retailerId</li>
<li><code>string</code> cardId The cardnumber as used by the retailer (shop)</li>
<li><code>boolean</code> favorite Is this a favorited card?</li>
<li><code>string</code> note A note for the card.</li>
</ul>
<p>JSON response: {</p>
<ul>
<li><code>boolean</code> success</li>
<li><code>integer</code> id <em>The <code>integer</code>ernal id of the card that was just created.</em></li>
</ul>
<p>}</p>
<h3 id="get-consumercardsretaileridcardidpoints"><strong>GET</strong> /consumer/cards/:retailerId/:cardId/points</h3>
<p>Retrieves the pointss of the given card. Note: The <code>cardId</code> is the number on the card, in the api named <code>cardId</code> and not the internal card id field called <code>id</code>!</p>
<p>GET parameters:</p>
<ul>
<li><code>string</code> token</li>
</ul>
<p>JSON response: {</p>
<ul>
<li><code>boolean</code> success</li>
<li><code>double</code> points</li>
</ul>
<p>}</p>
<h3 id="get-consumercardslist-updated"><strong>GET</strong> /consumer/cards/list <span class="label label-info">updated</span></h3>
<p>Lists all the cards added by the consumer.</p>
<p>GET parameters:</p>
<ul>
<li><code>string</code> token</li>
</ul>
<p>JSON response: {</p>
<ul>
<li><code>boolean</code> success</li>
<li><code>array</code> cards [ {
<ul>
<li><code>integer</code> id</li>
<li><code>integer</code> consumerId</li>
<li><code>integer</code> retailerId</li>
<li><code>string</code> cardId</li>
<li><code>double</code> points</li>
</ul></li>
<li><code>boolean</code> favorite</li>
<li><code>string</code> note A note for the card.
<ul>
<li><code>string</code> dateAdded <em>In the format of <code>yyyy-mm-dd hh:mm:ss</code></em></li>
<li><code>string</code> retailerName</li>
<li><code>string</code> retailerColor <em>Hex color starting with # example: #00FF00</em></li>
<li><code>integer</code> retailerLogoMainId</li>
<li><code>integer</code> retailerLogoWhite</li>
</ul></li>
<li>} ] }</li>
</ul>
<h3 id="delete-consumercardsid"><strong>DELETE</strong> /consumer/cards/{id}</h3>
<p>Removes the card with <code>id</code> from the database. This is not the <code>card_id</code> field!</p>
<p>GET parameters:</p>
<ul>
<li><code>string</code> token</li>
</ul>
<p>JSON response: {</p>
<ul>
<li><code>boolean</code> success</li>
</ul>
<p>}</p>
<h3 id="post-consumercardsid-updated"><strong>POST</strong> /consumer/cards/{id} <span class="label label-info">updated</span></h3>
<p>Update the information on a card with <code>id</code> from the database. This is not the <code>card_id</code> field!</p>
<p>GET parameters:</p>
<ul>
<li><code>string</code> token</li>
</ul>
<p>POST parameters:</p>
<ul>
<li><code>string</code> cardId The new number of the card (not the id)</li>
<li><code>boolean</code> favorite Favorite of card by the customer.</li>
<li><code>string</code> note A note for the card.</li>
</ul>
<p>JSON response: {</p>
<ul>
<li><code>boolean</code> success</li>
<li><code>integer</code> id <em>The id of the card that was just updated.</em></li>
</ul>
<p>}</p>
<h2 id="non-qlever-cards">Non-Qlever cards</h2>
<h3 id="post-consumercardsnonqleveradd-deprecated"><strong>POST</strong> /consumer/cards/nonqlever/add <span class="label label-warning">deprecated</span></h3>
<div class="alert alert-warning" role="alert">
<h4 id="deprecated-routine">Deprecated routine</h4>
<p>This call is not used anymore and will likely disappear in future versions.</p>
</div>
<p>Adds a new card to the consumer.</p>
<h4 id="get-parameters">GET parameters</h4>
<table>
<thead>
<tr class="header">
<th align="left">Parameter</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>token</strong></td>
<td align="left"><code>string</code></td>
<td align="left">Valid authentication token</td>
</tr>
</tbody>
</table>
<h4 id="post-parameters">POST parameters</h4>
<table>
<thead>
<tr class="header">
<th align="left">Parameter</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>retailerId</strong></td>
<td align="left"><code>integer</code></td>
<td align="left">Id of the retailer for which a card should be added</td>
</tr>
<tr class="even">
<td align="left"><strong>cardId</strong></td>
<td align="left"><code>string</code></td>
<td align="left">The number on the card that should be added</td>
</tr>
</tbody>
</table>
<h4 id="json-response">JSON response:</h4>
<div class="sourceCode"><pre class="sourceCode json"><code class="sourceCode json"><span class="fu">{</span>
  <span class="dt">&quot;success&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span>
  <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">11869</span>
<span class="fu">}</span></code></pre></div> 
        </div>
      </div>
    </div>
    <script type="text/javascript">
      $(document).ready(function() {
        $('table').addClass('table table-striped table-hover');
      });
    </script>
  </body>
</html>
