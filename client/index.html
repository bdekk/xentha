<html>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans" />
  <link rel="stylesheet" href="css/style.css">


  <script src="bower_components/jquery/dist/jquery.js"></script>
  <script>
    function showForm(form) {
      var forms = document.getElementsByTagName('form');
      for(var i =0; i  < forms.length; i++) {
            forms[i].style.display = 'none';
      }
      document.getElementById(form).style.display = 'inline';
    }

    function init() {

      showForm('joinForm');

      var user = JSON.parse(localStorage.getItem('user'));
      if(user) {
        var el = document.createElement('h3');
        el.innerHTML = 'Hello, ' + user.firstname + ' ' + user.lastname;
        document.getElementById('content').appendChild(el);

        document.getElementById('loginNav').style.display = 'none';
        document.getElementById('registerNav').style.display = 'none';
        document.getElementById('logoutNav').style.display = 'inline';
      } else {
        document.getElementById('loginNav').style.display = 'inline';
        document.getElementById('registerNav').style.display = 'inline';
        document.getElementById('logoutNav').style.display = 'none';
      }
    }

  window.onload = function() {
    init();
  }

  </script>
  <body>
    <div id="content">
      <ul class="topnav">
        <li class="right" id="registerNav"><a href="#" onclick="showForm('registerForm')">Register</a></li>
        <li class="right" id="loginNav"><a href="#" onclick="showForm('loginForm')">Login</a></li>
        <li class="right" id="logoutNav"><a href="#" onclick="logout()">Logout</a></li>
        <li class="right" id="joinNav"><a href="#" onclick="showForm('joinForm')">Play</a></li>
      </ul>
      <div class="formWrapper">
        <form id="joinForm" style="display: none;">
          <h1 class="">Create / Join game</h1>
          <input type="text" class="xinput" name="roomCode" id="roomCode" placeholder="Enter roomcode.."><br>
          <button type="button" class="mbtn orange" onclick="joinRoom()"><span>JOIN ROOM</span></button>
        </form>
        <form id="loginForm"  style="display: none;">
          <h1 class="">Login</h1>
          <input type="text" class="xinput" name="username" id="username" placeholder="Username"><br>
          <input type="text" class="xinput" name="password" id="password" placeholder="Password"><br>
          <button type="button" class="mbtn orange" onclick="login()"><span>LOGIN</span></button>
        </form>
        <form id="registerForm"  style="display: none;">
          <h1 class="">Register</h1>
          <input type="text" class="xinput" name="username" id="username" placeholder="Username"><br>
          <input type="text" class="xinput" name="firstname" id="firstname" placeholder="Firstname"><br>
          <input type="text" class="xinput" name="lastname" id="lastname" placeholder="Lastname"><br>
          <input type="text" class="xinput" name="password" id="password" placeholder="Password"><br>
          <button type="button" class="mbtn orange" onclick="register()"><span>REGISTER</span></button>
        </form>
      </div>
      <div>
        <h3 id="roomCreatedText"></h3>
      </div>
      <div class="alert">
        <span id="error"></span>
      </div>
    </div>
    <div id="controller"></div>

    <script src="bower_components/socket.io-client/socket.io.js"></script>
    <script src="http://145.107.178.231:3000/assets/xentha-client.js"></script>

    <script src="bower_components/pixi.js/bin/pixi.js"></script>
    <script src="js/client.js"></script>
    <script src="js/user.js"></script>
    <script>
    </script>
  </body>
</html>
